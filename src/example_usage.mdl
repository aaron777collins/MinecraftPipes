namespace "pipes"

# ===== EXAMPLE USAGE AND DEMOS =====
function "demo_basic_pipe":
    # Basic pipe demonstration
    tellraw @s [{"text":"=== BASIC PIPE DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:create_source","color":"aqua"}]
    tellraw @s [{"text":"2. Place a chest below the marker","color":"aqua"}]
    tellraw @s [{"text":"3. Put iron ingots in the chest","color":"aqua"}]
    tellraw @s [{"text":"4. Run /function pipes:create_sink","color":"aqua"}]
    tellraw @s [{"text":"5. Place another chest below the sink marker","color":"aqua"}]
    tellraw @s [{"text":"6. Watch items flow through the pipe!","color":"green"}]

function "demo_advanced_pipe":
    # Advanced pipe demonstration
    tellraw @s [{"text":"=== ADVANCED PIPE DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:create_smart_source","color":"aqua"}]
    tellraw @s [{"text":"2. Place a chest with diamonds, gold, emeralds","color":"aqua"}]
    tellraw @s [{"text":"3. Run /function pipes:create_smart_sink","color":"aqua"}]
    tellraw @s [{"text":"4. Place a chest below the sink","color":"aqua"}]
    tellraw @s [{"text":"5. Watch different items flow!","color":"green"}]

function "demo_redstone_control":
    # Redstone control demonstration
    tellraw @s [{"text":"=== REDSTONE CONTROL DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Create a pipe source","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:set_redstone_control","color":"aqua"}]
    tellraw @s [{"text":"3. Place a redstone block below the source","color":"aqua"}]
    tellraw @s [{"text":"4. Remove the redstone block to stop flow","color":"aqua"}]
    tellraw @s [{"text":"5. Add it back to resume flow","color":"green"}]

function "demo_energy_system":
    # Energy system demonstration
    tellraw @s [{"text":"=== ENERGY SYSTEM DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:check_energy_level","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:recharge_energy","color":"aqua"}]
    tellraw @s [{"text":"3. Watch energy level change","color":"aqua"}]
    tellraw @s [{"text":"4. Place redstone blocks for auto-recharge","color":"green"}]

function "demo_priority_system":
    # Priority system demonstration
    tellraw @s [{"text":"=== PRIORITY SYSTEM DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Create multiple pipe sources","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:set_priority on each","color":"aqua"}]
    tellraw @s [{"text":"3. Higher priority sources will spawn first","color":"aqua"}]
    tellraw @s [{"text":"4. Lower priority sources wait their turn","color":"green"}]

function "demo_performance_modes":
    # Performance modes demonstration
    tellraw @s [{"text":"=== PERFORMANCE MODES DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:high_performance","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:optimize_performance","color":"aqua"}]
    tellraw @s [{"text":"3. Run /function pipes:low_performance","color":"aqua"}]
    tellraw @s [{"text":"4. Choose based on your computer's power","color":"green"}]

function "demo_debug_mode":
    # Debug mode demonstration
    tellraw @s [{"text":"=== DEBUG MODE DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:toggle_debug","color":"aqua"}]
    tellraw @s [{"text":"2. Create some pipes","color":"aqua"}]
    tellraw @s [{"text":"3. Watch detailed debug messages","color":"aqua"}]
    tellraw @s [{"text":"4. Run /function pipes:debug_show_entities","color":"green"}]

function "demo_item_types":
    # Different item types demonstration
    tellraw @s [{"text":"=== ITEM TYPES DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:spawn_diamond_token","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:spawn_gold_token","color":"aqua"}]
    tellraw @s [{"text":"3. Run /function pipes:spawn_emerald_token","color":"aqua"}]
    tellraw @s [{"text":"4. Watch different colored tokens flow","color":"green"}]

function "demo_conditional_example":
    # Example of conditional logic in action
    tellraw @s [{"text":"=== CONDITIONAL LOGIC DEMO ===","color":"gold"}]
    tellraw @s [{"text":"This demonstrates the new conditional syntax:","color":"aqua"}]
    tellraw @s [{"text":"if \"condition\":","color":"yellow"}]
    tellraw @s [{"text":"    command1","color":"yellow"}]
    tellraw @s [{"text":"else if \"condition2\":","color":"yellow"}]
    tellraw @s [{"text":"    command2","color":"yellow"}]
    tellraw @s [{"text":"else:","color":"yellow"}]
    tellraw @s [{"text":"    default_command","color":"yellow"}]

function "demo_complete_system":
    # Complete system demonstration
    tellraw @s [{"text":"=== COMPLETE SYSTEM DEMO ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:init","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:toggle_debug","color":"aqua"}]
    tellraw @s [{"text":"3. Run /function pipes:demo_basic_pipe","color":"aqua"}]
    tellraw @s [{"text":"4. Follow the basic pipe setup","color":"aqua"}]
    tellraw @s [{"text":"5. Run /function pipes:list_connections","color":"aqua"}]
    tellraw @s [{"text":"6. Watch the system work!","color":"green"}]

function "demo_help":
    # Help for all demos
    tellraw @s [{"text":"=== PIPE SYSTEM DEMOS ===","color":"gold"}]
    tellraw @s [{"text":"/function pipes:demo_basic_pipe - Basic pipe setup","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_advanced_pipe - Smart pipes","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_redstone_control - Redstone control","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_energy_system - Energy management","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_priority_system - Priority system","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_performance_modes - Performance options","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_debug_mode - Debug features","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_item_types - Different items","color":"aqua"}]
    tellraw @s [{"text":"/function pipes:demo_conditional_example - Conditional syntax","color":"yellow"}]
    tellraw @s [{"text":"/function pipes:demo_complete_system - Full system demo","color":"green"}]

# ===== QUICK START FUNCTIONS =====
function "quick_start":
    # Quick start guide
    tellraw @s [{"text":"=== QUICK START GUIDE ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:init","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:create_source","color":"aqua"}]
    tellraw @s [{"text":"3. Place a chest below the marker","color":"aqua"}]
    tellraw @s [{"text":"4. Put items in the chest","color":"aqua"}]
    tellraw @s [{"text":"5. Run /function pipes:create_sink","color":"aqua"}]
    tellraw @s [{"text":"6. Place a chest below the sink marker","color":"aqua"}]
    tellraw @s [{"text":"7. Watch items flow!","color":"green"}]

function "quick_advanced":
    # Quick advanced setup
    tellraw @s [{"text":"=== QUICK ADVANCED SETUP ===","color":"gold"}]
    tellraw @s [{"text":"1. Run /function pipes:init","color":"aqua"}]
    tellraw @s [{"text":"2. Run /function pipes:toggle_debug","color":"aqua"}]
    tellraw @s [{"text":"3. Run /function pipes:create_smart_source","color":"aqua"}]
    tellraw @s [{"text":"4. Place a chest with different items","color":"aqua"}]
    tellraw @s [{"text":"5. Run /function pipes:create_smart_sink","color":"aqua"}]
    tellraw @s [{"text":"6. Place a chest below the sink","color":"aqua"}]
    tellraw @s [{"text":"7. Watch smart item flow!","color":"green"}]

# ===== TROUBLESHOOTING =====
function "troubleshoot":
    # Troubleshooting guide
    tellraw @s [{"text":"=== TROUBLESHOOTING ===","color":"gold"}]
    tellraw @s [{"text":"Problem: Items not flowing","color":"red"}]
    tellraw @s [{"text":"Solution: Check if containers are placed below markers","color":"aqua"}]
    tellraw @s [{"text":"Problem: System not working","color":"red"}]
    tellraw @s [{"text":"Solution: Run /function pipes:init","color":"aqua"}]
    tellraw @s [{"text":"Problem: No debug messages","color":"red"}]
    tellraw @s [{"text":"Solution: Run /function pipes:toggle_debug","color":"aqua"}]
    tellraw @s [{"text":"Problem: Low performance","color":"red"}]
    tellraw @s [{"text":"Solution: Run /function pipes:low_performance","color":"aqua"}]
    tellraw @s [{"text":"Problem: Need help","color":"red"}]
    tellraw @s [{"text":"Solution: Run /function pipes:help","color":"aqua"}]
